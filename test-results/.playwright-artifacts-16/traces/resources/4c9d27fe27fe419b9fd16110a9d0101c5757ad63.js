(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3465],{82355:function(e,t,r){Promise.resolve().then(r.bind(r,31970))},31970:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return eb}});var l=r(57437),s=r(98425),n=r(63260);let o=e=>(0,l.jsxs)("svg",{width:"100%",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,l.jsx)("path",{d:"M5.25 10.0625L1.75 10.9375V3.0625L5.25 2.1875",stroke:"#353B3F",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,l.jsx)("path",{d:"M8.75 11.8125L5.25 10.0625V2.1875L8.75 3.9375V11.8125Z",stroke:"#353B3F",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,l.jsx)("path",{d:"M8.75 3.9375L12.25 3.0625V10.9375L8.75 11.8125",stroke:"#353B3F",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),a=e=>(0,l.jsxs)("svg",{width:"100%",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,l.jsx)("path",{d:"M6.125 9.625L4.375 11.375L2.625 9.625",stroke:"#353B3F",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,l.jsx)("path",{d:"M4.375 2.625V11.375",stroke:"#353B3F",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,l.jsx)("path",{d:"M7.875 4.375L9.625 2.625L11.375 4.375",stroke:"#353B3F",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,l.jsx)("path",{d:"M9.625 11.375V2.625",stroke:"#353B3F",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),i=e=>{let{toggleFilters:t,toggleSort:r}=e;return(0,l.jsxs)("div",{className:"flex text-[12px] text-secondary-black transition-colors",children:[(0,l.jsxs)("button",{onClick:t,className:"flex items-center gap-1 rounded-l-full border border-stroke bg-white px-3.5 py-2 active:bg-stroke-secondary","data-testid":"toggle-filter-id",children:[(0,l.jsx)(o,{className:"h-[14px] w-[14px]"})," Filters"]}),(0,l.jsxs)("button",{onClick:r,className:"flex items-center gap-1 rounded-r-full border-b border-r border-t border-stroke bg-white px-3.5 py-2 active:bg-stroke-secondary","data-testid":"toggle-sort-id",children:[(0,l.jsx)(a,{className:"h-[14px] w-[14px]"})," Sort"]})]})};var d=r(70868),c=r(56922),u=r(31225),m=r(27504),x=r(2265),h=r(4099),f=r(67848);let p=e=>{let{userId:t,updateHandle:r,className:s}=e,{course:n}=(0,c.useCourseContext)(),{data:o}=(0,u.a)(t),{data:a}=m.h.register.generateUsername.useQuery(6);(0,x.useEffect)(()=>{!o||(null==o?void 0:o.handle)||r(null!=a?a:"")},[o,a]);let i=(0,x.useMemo)(()=>n?null==n?void 0:n.images:[],[n]);return(0,l.jsx)(h.lr,{autoPlay:!0,showThumbs:!1,showIndicators:!0,swipeable:!0,thumbWidth:75,showArrows:!1,showStatus:!1,infiniteLoop:!0,emulateTouch:!0,interval:3e3,stopOnHover:!0,className:null!=s?s:"",children:null==i?void 0:i.map((e,t)=>{var r;return(0,l.jsx)("div",{children:(0,l.jsx)(f.BlurImage,{src:e,width:1440,height:270,alt:null!==(r=null==n?void 0:n.name)&&void 0!==r?r:"",className:"object-cover w-full h-[270px]",unoptimized:!0})},t)})})};var v=r(80054),g=r(76332),y=r(92316),b=r(82181);let w=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{direction:"both"},{direction:r}=t,l={scrollTop:0,scrollLeft:0,mouseX:0,mouseY:0},s=t=>{if(e.current){let s=t.clientX-l.mouseX,n=t.clientY-l.mouseY;"horizontal"!==r&&(e.current.scrollTop=l.scrollTop-n),"vertical"!==r&&(e.current.scrollLeft=l.scrollLeft-s)}},n=()=>{e.current&&(e.current.style.cursor="grab"),document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",n)};return{onMouseDown:t=>{e.current&&(l={scrollLeft:e.current.scrollLeft,scrollTop:e.current.scrollTop,mouseX:t.clientX,mouseY:t.clientY},e.current.style.cursor="grabbing",e.current.style.userSelect="none",document.addEventListener("mousemove",s),document.addEventListener("mouseup",n))}}};var j=r(75230),N=r(45300),k=r(16790),C=r(61396),S=r.n(C),T=r(24033),E=r(83777),I=r(4680),L=r(56102),D=r(21009),O=r(6062),M=r(41567),A=r(40251),R=r(83367),B=r(59050),H=r(67641);let F=["1","2","3","4"],P=e=>{var t,r,s,o,a;let{time:i,items:d,index:u,canChoosePlayer:h,players:f,price:p,isOwned:v,soldById:g,soldByImage:w,soldByName:C,availableSlots:P,teeTimeId:W,isLiked:_,status:z="FIRST_HAND",minimumOfferPrice:Y,bookingIds:V,listingId:$,firstHandPurchasePrice:q,className:U,showFullDate:Q,children:X,listedSlots:Z,handleLoading:K,refetch:G}=e,[,J]=(0,b.m9)(),[ee,et]=(0,x.useState)(!1),[er,el]=(0,x.useState)("UNLISTED"===z?"1":"FIRST_HAND"===z?"1":f),{course:es}=(0,c.useCourseContext)(),en=null==es?void 0:es.id,eo=null==es?void 0:es.timezoneCorrection,[ea,ei]=(0,x.useState)(!1),{data:ed}=(0,j.kP)(),[ec,eu]=(0,x.useState)(!1),{user:em}=(0,k.S)(),ex=m.h.webhooks.auditLog.useMutation(),eh=async()=>{var e;await ex.mutateAsync({userId:null!==(e=null==em?void 0:em.id)&&void 0!==e?e:"",teeTimeId:null!=W?W:"",bookingId:"",listingId:null!=$?$:"",courseId:en,eventId:"TEE_TIME_IN_CART",json:"TEE_TIME_IN_CART "})},ef=(0,x.useRef)([]),[ep,ev]=(0,x.useState)([]);(0,x.useEffect)(()=>{ev(ef.current.map(e=>!!e&&e.scrollWidth>e.clientWidth))},[d]),(0,x.useEffect)(()=>{ea||ec?document.body.classList.add("overflow-hidden"):document.body.classList.remove("overflow-hidden")},[ea,ec]);let eg=(0,T.useRouter)(),{setPrevPath:ey}=(0,N.b)(),eb=m.h.watchlist.toggleWatchlist.useMutation(),[ew,ej]=(0,x.useState)(_),eN=async()=>{if(!em){eg.push("/".concat(null==es?void 0:es.id,"/login"));return}try{await eb.mutateAsync({teeTimeId:W}),ej(!ew)}catch(t){var e;E.Am.error(null!==(e=null==t?void 0:t.message)&&void 0!==e?e:"Error adding to watchlist"),console.log(t)}},ek=async()=>{if(await eh(),K&&K(!0),!em||!ed){"FIRST_HAND"===z&&ey({path:"/".concat(null==es?void 0:es.id,"/checkout?teeTimeId=").concat(W,"&playerCount=").concat(er),createdAt:new Date().toISOString()}),"SECOND_HAND"===z&&ey({path:"/".concat(null==es?void 0:es.id,"/checkout?listingId=").concat($,"&playerCount=").concat(Z),createdAt:new Date().toISOString()}),eg.push("/".concat(null==es?void 0:es.id,"/login"));return}"FIRST_HAND"===z&&eg.push("/".concat(null==es?void 0:es.id,"/checkout?teeTimeId=").concat(W,"&playerCount=").concat(er)),"SECOND_HAND"===z&&eg.push("/".concat(null==es?void 0:es.id,"/checkout?listingId=").concat($,"&playerCount=").concat(Z))},eC=(0,x.useMemo)(()=>"FIRST_HAND"===z?"/".concat(en,"/").concat(W):"SECOND_HAND"===z?"/".concat(en,"/").concat(W,"/listing/").concat($):"/".concat(en,"/").concat(W,"/owner/").concat(g),[z,$,W,en,g]),eS="UNLISTED"===z,eT=async()=>{var e;let t=window.location.host;(null===(e=navigator)||void 0===e?void 0:e.share)?await navigator.share({url:"".concat(t).concat(eC)}):await eE("".concat(t).concat(eC))},eE=async e=>{await J(e),et(!0),setTimeout(()=>{et(!1)},1e3)};return(0,x.useEffect)(()=>{},[z,P]),(0,l.jsxs)(l.Fragment,{children:[X,(0,l.jsxs)("div",{"data-testid":"tee-time-id","data-test":"SECOND_HAND"===z?"secondary_listed":"primary_listed",className:"md:rounded-xl rounded-lg bg-secondary-white w-fit min-w-[230px] md:min-w-[265px] ".concat(null!=U?U:""),children:[(0,l.jsx)("div",{className:"border-b border-stroke",children:(0,l.jsxs)("div",{className:"flex justify-between py-1 px-2 md:px-3 md:p-3 items-center",children:[(0,l.jsx)("div",{className:"font-semibold text-[12px] md:text-[16px]",children:Q?(0,y.mr)(i,!0,eo):(0,y.hK)(i,eo)}),(0,l.jsxs)("div",{className:"flex gap-2",children:["UNLISTED"===z?(0,l.jsx)(O._,{className:"w-[12px] md:w-[20px]"}):null,(0,l.jsx)(B.u,{trigger:(0,l.jsx)(I.q,{src:"SECOND_HAND"===z?"/defaults/default-profile.webp":w,className:"!min-h-[24px] !min-w-[24px] max-h-[24px] max-w-[24px] h-[24px] w-[24px] md:min-h-[30px] md:min-w-[30px] md:max-h-[30px] md:max-w-[30px] md:h-[30px] md:w-[30px]"}),content:"Sold by "+("SECOND_HAND"===z?"another Golf District golfer.":C)})]})]})}),(0,l.jsxs)("div",{className:"flex flex-col gap-1 md:gap-4 p-2 md:p-3 text-[10px] md:text-[14px]",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-1 relative pt-1.5 md:pt-0",children:[eS?(0,l.jsx)("div",{className:"absolute -top-[.18rem] md:-top-3.5 text-[9px] md:text-[12px] text-primary-gray",children:"Suggested"}):null,(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"text-[15px] md:text-[20px] font-semibold text-secondary-black",children:(0,y.lb)(p)}),(0,l.jsxs)("div",{className:"text-[12px] md:text-[14px] text-primary-gray",children:[" ","/golfer"]})]})]}),(0,l.jsxs)("div",{className:"flex md:min-h-[31px] items-center gap-2",children:[(0,l.jsx)("div",{className:"scale-75 md:scale-100",children:(0,l.jsx)(M.U,{})}),h?(0,l.jsx)(A.h,{players:"SECOND_HAND"===z?"".concat(Z):er,setPlayers:el,playersOptions:F,availableSlots:"SECOND_HAND"===z?Z||0:P,isDisabled:"SECOND_HAND"===z,className:"md:px-[1rem] md:py-[.25rem] md:!text-[14px] !text-[10px] px-[.75rem] py-[.1rem]",teeTimeId:W}):f&&(0,l.jsxs)("div",{children:[f," golfer",parseInt(f)>1?"s":""]})]}),g===(null==em?void 0:em.id)&&ed?(0,l.jsx)(n.I,{onClick:()=>{if("UNLISTED"===z){eg.push("/".concat(en,"/my-tee-box"));return}eg.push("/".concat(en,"/my-tee-box"))},className:"whitespace-nowrap","data-testid":"sell-button-id","data-test":W,"data-qa":"Buy","data-cy":i,children:"UNLISTED"===z?"Sell":"Manage"}):(0,l.jsx)(l.Fragment,{children:eS?(0,l.jsx)(n.I,{className:"whitespace-nowrap !px-3 !min-w-[82px] md:min-w-[110px]",onClick:()=>{ei(!0)},"data-testid":"make-an-offer-id","data-test":W,"data-qa":"Make an Offer","data-cy":i,children:"Make an Offer"}):(0,l.jsx)(n.I,{className:"whitespace-nowrap !min-w-[82px] md:min-w-[110px] !py-[.28rem] md:py-1.5",onClick:ek,"data-testid":"buy-tee-time-id","data-test":W,"data-qa":"Buy","data-cy":i,children:"Buy"})}),(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(null==es?void 0:es.supportsWatchlist)?(0,l.jsx)(L.f,{className:"md:px-[.5rem] px-[0.375rem] py-[0.375rem] md:py-2",onClick:eN,"data-testid":"watch-list-id","data-test":W,"data-qa":ew,children:(0,l.jsx)(D.X,{className:"w-[13px] md:w-[18px]",fill:ew?"#40942A":void 0})}):null,(0,l.jsx)(S(),{href:eC,"data-testid":"details-button-id","data-test":W,"data-qa":"Details","data-cy":i,children:(0,l.jsx)(L.f,{className:"!py-[.28rem] md:py-1.5",children:"Details"})}),(0,l.jsx)(L.f,{onClick:()=>void eT(),className:"w-full whitespace-nowrap","data-testid":"share-button-id",children:(0,l.jsx)("div",{className:"flex items-center justify-center gap-2",children:ee?(0,l.jsx)(l.Fragment,{children:"Copied"}):(0,l.jsx)(l.Fragment,{children:"Share"})})})]})]}),ea&&(0,l.jsx)(H.B,{isMakeAnOfferOpen:ea,setIsMakeAnOfferOpen:ei,availableSlots:P,courseName:null!==(t=null==es?void 0:es.name)&&void 0!==t?t:"",courseImage:null!==(r=null==es?void 0:es.logo)&&void 0!==r?r:"",date:i,minimumOfferPrice:null!==(s=null!=Y?Y:q)&&void 0!==s?s:p,bookingIds:null!=V?V:[]}),ec&&(0,l.jsx)(R.u,{isManageTeeTimeListingOpen:ec,setIsManageTeeTimeListingOpen:eu,selectedTeeTime:{listingId:null!=$?$:"",courseName:null!==(o=null==es?void 0:es.name)&&void 0!==o?o:"",courseLogo:null!==(a=null==es?void 0:es.logo)&&void 0!==a?a:"",courseId:null!=en?en:"",date:i,firstHandPrice:null!=q?q:0,miniumOfferPrice:null!=Y?Y:0,listPrice:p,status:z,listedSpots:Array.from({length:P}).fill("golfer"),teeTimeId:W,listedSlotsCount:null!=Z?Z:1},refetch:G})]})]})};var W=r(89716);let _=()=>(0,l.jsxs)("div",{className:"rounded-xl bg-secondary-white min-w-[228px] md:min-w-[240px]",children:[(0,l.jsx)("div",{className:"border-b border-stroke",children:(0,l.jsx)("div",{className:"flex justify-between py-1.5 px-3 md:p-3",children:(0,l.jsx)("div",{className:"h-4 md:h-8 w-[30%] bg-gray-200 rounded-md  animate-pulse"})})}),(0,l.jsxs)("div",{className:"flex flex-col gap-4 p-3  text-[14px]",children:[(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)("div",{className:"h-8 w-8 bg-gray-200 rounded-full animate-pulse"}),(0,l.jsx)("div",{className:"whitespace-nowrap pr-2",children:(0,l.jsx)("div",{className:"h-6 w-10 bg-gray-200 rounded-md animate-pulse"})}),(0,l.jsx)("div",{className:"h-6 w-20 bg-gray-200 rounded-md animate-pulse"})]}),(0,l.jsxs)("div",{className:"flex min-h-[31px] items-center gap-2",children:[(0,l.jsx)("div",{className:"h-8 w-8 bg-gray-200 rounded-full animate-pulse"}),(0,l.jsx)("div",{className:"h-8 w-[60%] bg-gray-200 rounded-md  animate-pulse"})]}),(0,l.jsx)("div",{className:"flex flex-col gap-1 relative",children:(0,l.jsx)("div",{className:"h-4 md:h-6 w-[45%] bg-gray-200 rounded-md  animate-pulse"})}),(0,l.jsxs)("div",{className:"flex items-center gap-1 hidden md:flex",children:[(0,l.jsx)("div",{className:" min-h-[32px] h-[32px] w-[32px] min-w-[32px] bg-gray-200 rounded-full animate-pulse"}),(0,l.jsx)("div",{className:"h-8 w-full bg-gray-200 rounded-full animate-pulse"}),(0,l.jsx)("div",{className:"h-8 w-full bg-gray-200 rounded-full animate-pulse"})]})]})]}),z=e=>{var t,r,s,n,o,a,i;let{date:d,minDate:u,maxDate:h,setError:f,handleLoading:p}=e,j=(0,x.useRef)(null),N=(0,x.useRef)(null),{onMouseDown:k}=w(j,{direction:"horizontal"}),C=(0,b.S1)(N,{}),S=!!(null==C?void 0:C.isIntersecting),[T,{width:E=0}]=(0,b.h4)(),{course:I}=(0,c.useCourseContext)(),{showUnlisted:L,includesCart:D,golfers:O,holes:M,priceRange:A,startTime:R,sortValue:B}=(0,g.useFiltersContext)(),H=R[0],F=R[1],{data:z,isLoading:Y}=m.h.searchRouter.getWeatherForDay.useQuery({courseId:null!==(s=null==I?void 0:I.id)&&void 0!==s?s:"",date:d},{enabled:(null==I?void 0:I.id)!==void 0&&void 0!==d}),{data:V,isLoading:$,isFetchedAfterMount:q,isFetchingNextPage:U,fetchNextPage:Q,error:X,refetch:Z}=m.h.searchRouter.getTeeTimesForDay.useInfiniteQuery({courseId:null!==(n=null==I?void 0:I.id)&&void 0!==n?n:"",date:d,minDate:u,maxDate:h,startTime:H,endTime:F,holes:"Any"===M||"18"===M?18:9,showUnlisted:L,includesCart:D,golfers:"Any"===O?-1:O,lowerPrice:A[0],upperPrice:A[1],sortTime:"Sort by time - Early to Late"===B?"asc":"Sort by time - Late to Early"===B?"desc":"",sortPrice:"Sort by price - Low to High"===B?"asc":"Sort by price - High to Low"===B?"desc":"",timezoneCorrection:null==I?void 0:I.timezoneCorrection,take:8},{getNextPageParam:e=>{var t,r,l;return(null==e?void 0:null===(t=e.results)||void 0===t?void 0:t.length)===0||(null==e?void 0:null===(r=e.results)||void 0===r?void 0:r.length)<8?null:(null!==(l=e.cursor)&&void 0!==l?l:1)+1},enabled:(null==I?void 0:I.id)!==void 0&&void 0!==d,refetchOnWindowFocus:!1});(0,x.useEffect)(()=>{var e;f(null!==(e=null==X?void 0:X.message)&&void 0!==e?e:null)},[X]);let K=null!==(o=null==V?void 0:null===(t=V.pages[(null==V?void 0:null===(r=V.pages)||void 0===r?void 0:r.length)-1])||void 0===t?void 0:t.results)&&void 0!==o?o:[],G=async()=>{var e,t,r;$||await Q(),null===(e=j.current)||void 0===e||e.classList.add("scroll-smooth"),null===(t=j.current)||void 0===t||t.scrollBy({left:E}),null===(r=j.current)||void 0===r||r.classList.remove("scroll-smooth")},J=async()=>{$||U||await Q()};return((0,x.useEffect)(()=>{S&&J()},[S]),!$&&q&&0===K.length)?null:(0,l.jsxs)("div",{className:"flex flex-col gap-1 md:gap-4 bg-white px-4 py-2 md:rounded-xl md:px-8 md:py-6",children:[(0,l.jsxs)("div",{className:"flex flex-wrap justify-between gap-2",children:[(0,l.jsx)("div",{className:"text-[13px] md:text-lg","data-testid":"date-group-id","data-qa":(0,y.$g)(d),children:(0,y.$g)(d)}),Y&&!z?(0,l.jsx)("div",{className:"h-8 w-[30%] bg-gray-200 rounded-md  animate-pulse"}):z&&!Y?(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)("div",{children:v.O[null!==(a=null==z?void 0:z.iconCode)&&void 0!==a?a:""]}),(0,l.jsx)("div",{className:"text-[12px] md:text-[16px]","data-testid":"weather-degrees-id","data-qa":null==z?void 0:z.temperature,children:(null==z?void 0:z.temperature)!==0?"".concat(null==z?void 0:z.temperature,"\xb0F"):""}),(0,l.jsx)("div",{className:"hidden text-sm text-primary-gray md:block","data-testid":"weather-text-id","data-qa":null==z?void 0:z.shortForecast,children:null!==(i=null==z?void 0:z.shortForecast)&&void 0!==i?i:""})]}):(0,l.jsx)("div",{})]}),(0,l.jsxs)("div",{className:"relative",ref:T,children:[(0,l.jsx)("div",{className:"absolute top-1/2 hidden md:block -translate-y-1/2 z-[2] flex items-center justify-center -left-1 md:-left-6",children:(0,l.jsx)("button",{onClick:()=>{var e,t,r;null===(e=j.current)||void 0===e||e.classList.add("scroll-smooth"),null===(t=j.current)||void 0===t||t.scrollBy({left:-"".concat(E)}),null===(r=j.current)||void 0===r||r.classList.remove("scroll-smooth")},className:"flex h-fit items-center justify-center rounded-full bg-white p-2 shadow-overflow-indicator","data-testid":"tee-time-left-chevron-id","data-qa":(0,y.$g)(d),children:(0,l.jsx)(W.K,{fill:"#40942A",className:"w-[21px]"})})}),(0,l.jsxs)("div",{className:"scrollbar-none w-full flex overflow-x-auto overflow-y-hidden gap-4",ref:j,onMouseDown:k,children:[null==K?void 0:K.map((e,t)=>{var r;return(0,l.jsx)(P,{time:e.date,items:e,index:t,canChoosePlayer:e.availableSlots>0,availableSlots:e.availableSlots,players:String(4-e.availableSlots),firstHandPurchasePrice:null==e?void 0:e.firstHandPurchasePrice,price:e.pricePerGolfer,isOwned:null==e?void 0:e.isOwned,soldById:null==e?void 0:e.soldById,soldByImage:null==e?void 0:e.soldByImage,soldByName:null==e?void 0:e.soldByName,teeTimeId:null==e?void 0:e.teeTimeId,isLiked:null==e?void 0:e.userWatchListed,status:null==e?void 0:e.firstOrSecondHandTeeTime,minimumOfferPrice:null==e?void 0:e.minimumOfferPrice,bookingIds:null!==(r=null==e?void 0:e.bookingIds)&&void 0!==r?r:[],listingId:null==e?void 0:e.listingId,listedSlots:null==e?void 0:e.listedSlots,handleLoading:p,refetch:Z},t)}),(0,l.jsx)("div",{ref:N,className:"h-[50px] w-[1px] text-[1px] text-white",children:"Loading"}),$||U||!q?Array(8).fill(null).map((e,t)=>(0,l.jsx)(_,{},t)):null]}),(0,l.jsx)("div",{className:"absolute z-[2] hidden md:block top-1/2 -translate-y-1/2 flex items-center justify-center -right-1 md:-right-6",children:(0,l.jsx)("button",{onClick:G,className:"flex h-fit items-center justify-center rounded-full bg-white p-2 shadow-overflow-indicator","data-testid":"tee-time-right-chevron-id","data-qa":(0,y.$g)(d),children:(0,l.jsx)(W.K,{fill:"#40942A",className:"w-[21px] rotate-180"})})})]})]})};var Y=r(39922),V=r(28256),$=r(92291),q=r(34290);function U(){let e=!1,t=new Set,r={subscribe:e=>(t.add(e),()=>void t.delete(e)),start(r,l){(0,V.k)(e,"controls.start() should only be called after a component has mounted. Consider calling within a useEffect hook.");let s=[];return t.forEach(e=>{s.push((0,q.d)(e,r,{transitionOverride:l}))}),Promise.all(s)},set:r=>((0,V.k)(e,"controls.set() should only be called after a component has mounted. Consider calling within a useEffect hook."),t.forEach(e=>{(0,$.gg)(e,r)})),stop(){t.forEach(e=>{!function(e){e.values.forEach(e=>e.stop())}(e)})},mount:()=>(e=!0,()=>{e=!1,r.stop()})};return r}var Q=r(38787),X=r(20323);let Z=function(){let e=(0,Q.h)(U);return(0,X.L)(e.mount,[]),e};var K=r(47277),G=r(31414);let J=e=>{let{setShow:t,children:r,className:s}=e,n=(0,x.useRef)(null),o=Z(),a={type:"spring",stiffness:500,damping:30};(0,x.useEffect)(()=>{o.start({y:20,transition:a})},[]);let i=async(e,r)=>{var l,s;let i=r.offset.y,d=r.velocity.y;if(i>(null!==(s=null===(l=n.current)||void 0===l?void 0:l.getBoundingClientRect().height)&&void 0!==s?s:0)/2||d>800)try{await o.start({y:"100%",transition:a}),t(!1)}catch(e){console.error(e)}else o.start({y:0,transition:a}).catch(console.error)};return(0,l.jsxs)(K.M,{children:[(0,l.jsxs)(G.E.div,{ref:n,className:"group fixed inset-x-0 bottom-0 z-40 w-screen cursor-grab rounded-xl border border-stroke bg-white pb-5 active:cursor-grabbing md:hidden ",initial:{y:"100%"},animate:o,exit:{y:"100%"},transition:a,drag:"y",dragDirectionLock:!0,onDragEnd:i,dragElastic:{top:0,bottom:1},dragConstraints:{top:0,bottom:0},children:[(0,l.jsxs)("div",{className:"rounded-t-4xl -mb-1 flex h-7 w-full items-center justify-center",children:[(0,l.jsx)("div",{className:"-mr-1 h-1 w-6 rounded-full bg-gray-300 transition-all"}),(0,l.jsx)("div",{className:"h-1 w-6 rounded-full bg-gray-300 transition-all "})]}),(0,l.jsx)("div",{className:"max-h-[325px] overflow-y-auto ".concat(null!=s?s:""),children:r})]},"leaflet"),(0,l.jsx)(G.E.div,{className:"fixed inset-0 z-30 bg-[#00000099] backdrop-blur md:hidden",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>{t(!1)}},"leaflet-backdrop")]})},ee=e=>{let{setShowFilters:t,toggleFilters:r}=e;return(0,l.jsx)(J,{setShow:t,className:"max-h-[70dvh]",children:(0,l.jsxs)("div",{className:"relative flex flex-col gap-4 px-4 pb-20",children:[(0,l.jsx)("div",{className:"border-b py-2 text-xl font-semibold",children:"Filters"}),(0,l.jsx)(Y.x,{}),(0,l.jsxs)("div",{className:"fixed bottom-10 left-1/2 z-10 flex w-full -translate-x-1/2 gap-2 px-4",children:[(0,l.jsx)(L.f,{className:"min-w-[40%]",onClick:r,children:"Cancel"}),(0,l.jsx)(n.I,{className:"w-full",onClick:r,children:"Apply"})]})]})})};var et=r(79467);let er=["Sort by price - Low to High","Sort by price - High to Low","Sort by time - Early to Late","Sort by time - Late to Early"],el=e=>{let{setShowSort:t,toggleSort:r,setSortValue:s,sortValue:o}=e;return(0,l.jsx)(J,{setShow:t,className:"max-h-[70dvh]",children:(0,l.jsxs)("div",{className:"relative flex flex-col gap-4 px-4 pb-20",children:[(0,l.jsx)("div",{className:"border-b py-2 text-xl font-semibold",children:"Sort"}),(0,l.jsx)(et.fC,{type:"single",value:o,onValueChange:e=>{e&&s(e)},orientation:"vertical",className:"flex flex-col","data-testid":"sort-button-id","data-qa":o,children:er.map((e,t)=>(0,l.jsx)(Y.c,{value:e,className:"".concat(0===t?"rounded-t-2xl border border-stroke":t===er.length-1?"rounded-b-2xl border-b border-l border-r border-stroke":"border-b border-l border-r border-stroke"),dataTestId:"sort-by-id",dataTest:"",dataQa:e},t))}),(0,l.jsxs)("div",{className:"fixed bottom-10 left-1/2 flex w-full -translate-x-1/2 gap-2 px-4",children:[(0,l.jsx)(L.f,{className:"w-full",onClick:r,"data-testid":"cancel-button-id",children:"Cancel"}),(0,l.jsx)(n.I,{className:"w-full",onClick:r,"data-testid":"apply-button-id",children:"Apply"})]})]})})};var es=r(64212),en=r(80379),eo=r(55472),ea=r(63270);let ei=e=>{let{values:t,value:r,setValue:s}=e;return(0,l.jsxs)(en.fC,{value:r,onValueChange:s,children:[(0,l.jsxs)(en.xz,{"data-testid":"sort-by-id",className:"flex h-[35px] items-center justify-between gap-2 whitespace-nowrap rounded-full border border-stroke bg-white px-4 py-2 text-[14px] outline-none data-[placeholder]:text-primary-gray",children:[(0,l.jsx)(en.B4,{placeholder:"Sort by price","aria-label":r,children:r}),(0,l.jsx)(en.JO,{className:"text-primary-gray",children:(0,l.jsx)(ea.y,{className:"h-[14px] w-[14px]"})})]}),(0,l.jsx)(en.h_,{children:(0,l.jsxs)(en.VY,{position:"popper",className:"rounded-lg bg-white shadow-lg z-20",children:[(0,l.jsx)(en.u_,{className:"flex h-[25px] cursor-default items-center justify-center bg-white text-primary-gray",children:(0,l.jsx)(ea.y,{className:"h-[14px] w-[14px] rotate-180"})}),(0,l.jsxs)(en.l_,{className:"",children:[t.map((e,t)=>(0,l.jsx)(ed,{value:e,className:"cursor-pointer","data-testid":"select-item","data-qa":e,children:e},t)),(0,l.jsx)(en.Z0,{})]}),(0,l.jsx)(en.$G,{className:"flex h-[25px] cursor-default items-center justify-center bg-white text-primary-gray",children:(0,l.jsx)(ea.y,{className:"h-[14px] w-[14px]"})})]})})]})},ed=(0,x.forwardRef)((e,t)=>{let{children:r,value:s,className:n,...o}=e;return(0,l.jsxs)(en.ck,{className:"relative w-[295px] flex h-[30px] select-none items-center rounded-lg pl-[25px] pr-[35px] text-[13px] leading-none text-primary-gray data-[disabled]:pointer-events-none data-[highlighted]:bg-stroke-secondary data-[disabled]:text-stroke data-[highlighted]:text-black data-[highlighted]:outline-none\n        ".concat(null!=n?n:""),value:s,...o,ref:t,children:[(0,l.jsx)(en.eT,{children:r}),(0,l.jsx)(en.wU,{className:"absolute left-0 inline-flex w-[25px] items-center justify-center ",children:(0,l.jsx)(eo.J,{className:"h-[15px] w-[15px]"})})]})});ed.displayName="SelectItem";var ec=r(98910),eu=r.n(ec),em=r(98862),ex=r.n(em),eh=r(39342),ef=r.n(eh),ep=r(15692),ev=r.n(ep),eg=r(59045),ey=r(80599);function eb(){var e,t,r,o,a,u,h;let f=(0,x.useRef)(null),v=(0,x.useRef)(null),[y,w]=(0,x.useState)(null),[j,C]=(0,x.useState)(!1),[S,I]=(0,x.useState)(!1),[L,D]=(0,x.useState)(!1),[O,M]=(0,x.useState)(!0),[A,R]=(0,x.useState)(4),[B,H]=(0,x.useState)(1),{user:F}=(0,k.S)(),{course:P}=(0,c.useCourseContext)(),{showUnlisted:W,includesCart:_,golfers:V,holes:$,priceRange:q,startTime:U,sortValue:Q,dateType:X,selectedDay:Z,handleSetSortValue:K}=(0,g.useFiltersContext)(),{entity:G,alertOffersShown:J,setAlertOffersShown:et}=(0,N.b)(),en=(0,T.useRouter)(),eo=(0,b.ac)("(max-width: 768px)"),ea=null==P?void 0:P.id,[ed,ec]=(0,x.useState)(0),em=m.h.user.updateUser.useMutation(),ex=async e=>{try{await em.mutateAsync({handle:e,courseId:ea})}catch(e){console.log(e)}},{data:eh}=m.h.searchRouter.getFarthestTeeTimeDate.useQuery({courseId:null!==(e=null==P?void 0:P.id)&&void 0!==e?e:"",order:"desc"},{enabled:(null==P?void 0:P.id)!==void 0}),{data:ef}=m.h.user.getUnreadOffersForCourse.useQuery({courseId:null!=ea?ea:""},{enabled:void 0!==ea&&(null==F?void 0:F.id)!==void 0}),ep=(0,x.useMemo)(()=>{let e=e=>(0,s.hc)(e);switch(X){case"All":case"This Week":case"This Month":case"Furthest Day Out To Book":default:return e(new Date);case"Today":var t,r;return t=new Date,eu().utc(e(t)).add(null!==(r=null==P?void 0:P.timezoneCorrection)&&void 0!==r?r:0,"hour").toString();case"This Weekend":return e(eu()().day(5).toDate());case"Custom":{if(!Z.from)return e(new Date);let{year:t,month:r,day:l}=Z.from,s="".concat(t,"-").concat(r,"-").concat(l);return e(eu()(s).toDate())}}},[X,Z]),ev=(0,x.useMemo)(()=>{var e,t,r;switch(X){case"All":return(0,s.hc)(eu()(eh).toDate());case"Today":return eu().utc().endOf("day").add(null!==(e=null==P?void 0:P.timezoneCorrection)&&void 0!==e?e:0,"hour").toString();case"This Week":return eu().utc().endOf("isoWeek").add(null!==(t=null==P?void 0:P.timezoneCorrection)&&void 0!==t?t:0,"hour").toString();case"This Weekend":return(0,s.hc)(eu()().day(7).toDate());case"This Month":{let e=eu()().endOf("month").toDate();return e>eu()(eh).toDate()?eh:e}case"Furthest Day Out To Book":return eu()(eh).utc().hour(23).minute(59).second(59).millisecond(999).toDate();case"Custom":{if(!Z.to){if(!Z.from)return(0,s.hc)(eu()().toDate());{let{year:e,month:t,day:r}=Z.from,l="".concat(e,"-").concat(t,"-").concat(r);return(0,s.hc)(eu()(l).toDate())}}let{year:e,month:t,day:l}=Z.to,n="".concat(e,"-").concat(t,"-").concat(l);return eu()(n).utc().endOf("day").add(null!==(r=null==P?void 0:P.timezoneCorrection)&&void 0!==r?r:0).toDate().toString()}default:return(0,s.hc)(eu()().date(360).toDate())}},[X,Z,eh]),eb=eu().utc(ep).utcOffset(null!==(t=null==P?void 0:P.timezoneCorrection)&&void 0!==t?t:0),ew=eu().utc(ev).utcOffset(null!==(r=null==P?void 0:P.timezoneCorrection)&&void 0!==r?r:0),ej=(0,x.useMemo)(()=>{let e=eu()(ew).diff(eb,"day"),t=[];for(let r=0;r<=e;r++){if("Furthest Day Out To Book"===X){let e=ew;if((e=e.subtract(r,"day")).add(1,"day").isSame(eu()(),"day"))break;t.push(e.toString());continue}{let e=eb;e=e.add(r,"day"),t.push(e.toString());continue}}return{arrayOfDates:t,amountOfPages:Math.ceil((e+1)/4)}},[ep,ev,X,A]),{data:eN,isLoading:ek}=m.h.searchRouter.checkTeeTimesAvailabilityForDateRange.useQuery({dates:[],courseId:null!==(o=null==P?void 0:P.id)&&void 0!==o?o:"",startTime:U[0],endTime:U[1],minDate:eb.toString(),maxDate:ew.toString(),holes:"Any"===$||"18"===$?18:9,golfers:"Any"===V?-1:V,showUnlisted:W,includesCart:_,lowerPrice:null!==(a=q[0])&&void 0!==a?a:0,upperPrice:null!==(u=q[1])&&void 0!==u?u:0,take:A,sortTime:"Sort by time - Early to Late"===Q?"asc":"Sort by time - Late to Early"===Q?"desc":"",sortPrice:"Sort by price - Low to High"===Q?"asc":"Sort by price - High to Low"===Q?"desc":"",timezoneCorrection:null==P?void 0:P.timezoneCorrection},{enabled:(null==P?void 0:P.id)!==void 0});(0,x.useEffect)(()=>{(S||j)&&eo?document.body.classList.add("overflow-hidden"):document.body.classList.remove("overflow-hidden")},[S,eo,j]),(0,x.useEffect)(()=>{var e;if(H(1),R(4),O){M(!1);return}null===(e=v.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[X]),(0,x.useEffect)(()=>{!J&&ef&&Number(ef)>0&&(E.Am.info((0,l.jsxs)("span",{children:["You have ",ef," offers waiting in My Offers. Review your offers if you want to sell your time, counteroffer for a higher price, or decline."]}),{position:"top-right",autoClose:1e4,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,onClick:()=>{en.push("/".concat(ea,"/my-tee-box?section=offers-received"))},theme:"light"}),et(!0))},[ef]);let eC=()=>{C(!j)},eS=()=>{I(!S)},eT=e=>{D(e)};(0,x.useEffect)(()=>{H(1)},[q]);let eE=JSON.parse(JSON.stringify(null!=eN?eN:ej.arrayOfDates)),eI=Math.ceil((eN?eN.length-1==0?1:eN.length-1:ej.amountOfPages)/4);"Furthest Day Out To Book"===X&&(eE=eE.reverse());let eL=[...eE].slice((B-1)*4,4*B);return(0,l.jsxs)("main",{className:"bg-secondary-white py-4 md:py-6",children:[(0,l.jsx)(ey.l,{isLoading:ek||L,children:(0,l.jsx)("div",{})}),(0,l.jsx)("div",{className:"flex items-center justify-between px-4 md:px-6",children:(null==G?void 0:G.redirectToCourseFlag)?null:(0,l.jsx)(d.GoBack,{href:"/",text:"Back to all ".concat(null==G?void 0:G.name," Courses")})}),(0,l.jsx)(p,{className:"pt-4",userId:null!==(h=null==F?void 0:F.id)&&void 0!==h?h:"",updateHandle:ex}),(0,l.jsxs)("section",{className:"relative flex gap-8 pl-0 pt-6 md:pl-6 md:pt-8 mx-auto w-full",children:[(0,l.jsx)("div",{ref:v,className:"absolute -top-[7.5rem] md:-top-[9.2rem]"}),(0,l.jsx)("div",{className:"hidden min-w-[310px] flex-col md:flex",children:(0,l.jsxs)("div",{style:{top:"calc(9.5rem + 1px)",maxHeight:"calc(100vh - 10.5rem)"},className:"sticky overflow-y-auto overflow-x-hidden flex flex-col gap-4",children:[(0,l.jsx)(ei,{value:Q,setValue:K,values:er}),(0,l.jsx)(Y.x,{})]})}),(0,l.jsx)("div",{className:"fixed bottom-5 left-1/2 z-10 -translate-x-1/2 md:hidden",children:(0,l.jsx)(i,{toggleFilters:eC,toggleSort:eS})}),(0,l.jsxs)("div",{className:"flex w-full flex-col gap-1 md:gap-4 overflow-x-hidden pr-0 md:pr-6",children:[(0,l.jsx)("div",{className:"flex justify-between gap-4  px-4 md:px-0",children:(0,l.jsx)("div",{className:"text-secondary-black",children:(0,l.jsx)("span",{className:"text-sm text-primary-gray",children:"All times shown in course time zone"})})}),y?(0,l.jsx)("div",{className:"flex justify-center items-center h-[200px]",children:(0,l.jsxs)("div",{className:"text-center",children:["Error: ",y]})}):(null==eE?void 0:eE.length)===0?(0,l.jsx)("div",{className:"flex justify-center items-center h-[200px]",children:(0,l.jsx)("div",{className:"text-center",children:ek?"Loading...":"Please select two days or more using this filter."})}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"flex w-full flex-col gap-1 md:gap-4",ref:f,children:(0,l.jsx)(eg.b,{viewportRef:f,items:eL,children:(e,t)=>(0,l.jsx)(z,{setError:e=>{w(e)},date:e,minDate:eb.toString(),maxDate:ew.toString(),handleLoading:eT},t)})}),ej.amountOfPages>1?(0,l.jsxs)("div",{className:"flex items-center justify-center gap-2 pt-1 md:pt-0 md:pb-4",children:[(0,l.jsx)(n.I,{className:"!px-3 !py-2 !min-w-fit !rounded-md ".concat(1===B?"opacity-50 cursor-not-allowed":""),onClick:()=>{var e;1!==B&&(H(e=>e-1),R(e=>e-4),null===(e=v.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))},"data-testid":"chevron-down-id",children:(0,l.jsx)(es.K,{fill:"#fff",className:"-rotate-90"})}),(0,l.jsxs)("div",{className:"text-primary-gray px-3 py-2 bg-[#ffffff] rounded-md",children:[B," / ",eI]}),(0,l.jsx)(n.I,{className:"!px-3 !py-2 !min-w-fit !rounded-md ".concat(B===ej.amountOfPages?"opacity-50 cursor-not-allowed":""),onClick:()=>{var e;B!==ej.amountOfPages&&(H(e=>e+1),R(e=>e+4),null===(e=v.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))},"data-testid":"chevron-up-id",children:(0,l.jsx)(es.K,{fill:"#fff",className:"rotate-90"})})]}):null]})]})]}),S&&(0,l.jsx)(el,{setShowSort:I,toggleSort:eS,setSortValue:K,sortValue:Q}),j&&(0,l.jsx)(ee,{setShowFilters:C,toggleFilters:eC})]})}eu().extend(ev()),eu().extend(ef()),eu().extend(ex())},63270:function(e,t,r){"use strict";r.d(t,{y:function(){return s}});var l=r(57437);let s=e=>{var t;return(0,l.jsx)("svg",{width:"100%",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,l.jsx)("path",{d:"M7.00018 8.27789L11.5708 3.83047C11.8704 3.53893 12.3558 3.53893 12.6554 3.83047C12.955 4.122 12.955 4.59431 12.6554 4.88585L7.54267 9.86129C7.39262 10.0068 7.19662 10.0798 7.00012 10.0798C6.80361 10.0798 6.60762 10.0068 6.45756 9.86129L1.34483 4.88585C1.04521 4.59431 1.04521 4.122 1.34483 3.83047C1.64444 3.53893 2.12983 3.53893 2.42944 3.83047L7.00018 8.27789Z",fill:null!==(t=e.fill)&&void 0!==t?t:"#A7A7A7"})})}},41567:function(e,t,r){"use strict";r.d(t,{U:function(){return s}});var l=r(57437);let s=e=>(0,l.jsxs)("svg",{width:"21",height:"24",viewBox:"0 0 21 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,l.jsx)("path",{d:"M14.6733 8.93536C14.9917 8.1013 16.0346 3.28325 16.5861 1H19.5069C18.6539 6.36778 17.0632 17.0531 16.8395 17.9046C16.6017 18.8093 16.0307 19.7806 15.6505 20.231C15.214 20.7479 14.1771 21.6369 12.1351 22.273C10.5584 22.7641 8.62487 22.945 7.02229 22.9967C5.41971 23.0484 4.61842 22.4798 4.12731 22.0145C3.63619 21.5492 1.59417 18.7576 1.1806 17.9822C0.767034 17.2067 1.15935 16.496 1.40816 16.0694C1.83033 15.3457 3.13998 14.3615 5.36799 13.5363C6.76379 13.0194 9.71047 12.5024 11.2614 12.0888C12.8122 11.6753 14.022 10.6413 14.6733 8.93536Z",stroke:"#6D777C"}),(0,l.jsx)("path",{d:"M6.63867 15.3008V20.8008",stroke:"#6D777C"}),(0,l.jsx)("path",{d:"M9.9386 14.2012L12.6886 19.7012",stroke:"#6D777C"}),(0,l.jsx)("path",{d:"M8.26148 14.6466C5.89489 15.1162 4.91638 15.699 4.14446 16.2826C3.77722 16.5603 3.58947 16.9019 3.53906 17.2423C3.4913 17.5648 3.57123 17.8579 3.689 18.0542C3.80176 18.2421 4.09276 18.7068 4.40718 19.1807C4.72111 19.654 5.05982 20.1387 5.26754 20.3653C5.68291 20.8184 6.13745 21.0841 6.63109 21.141C7.12057 21.1975 8.49251 21.2726 10.1275 20.9343C11.7618 20.5962 13.2523 19.9562 13.9319 18.4838C14.6107 17.013 14.4035 15.6903 13.7023 15.0269L13.3587 15.3902L13.7023 15.0269C13.5137 14.8486 13.2389 14.7131 12.9236 14.6127C12.5987 14.5093 12.1917 14.4307 11.7035 14.3906C10.7608 14.313 9.57675 14.3835 8.26183 14.6465L8.26148 14.6466Z",stroke:"#6D777C"})]})},67641:function(e,t,r){"use strict";r.d(t,{B:function(){return b}});var l=r(57437),s=r(79467),n=r(56922),o=r(13028),a=r(27504),i=r(92316),d=r(98910),c=r.n(d),u=r(2265),m=r(83777),x=r(4680),h=r(63260),f=r(56102),p=r(39922),v=r(7351),g=r(75197);let y=["1","2","3","4"],b=e=>{var t;let{isMakeAnOfferOpen:r,setIsMakeAnOfferOpen:d,availableSlots:x,courseName:g,courseImage:b,date:j,minimumOfferPrice:N,bookingIds:k}=e,[C,S]=(0,u.useState)(0),[T,E]=(0,u.useState)("1"),I=a.h.teeBox.createOfferOnBookings.useMutation(),{course:L}=(0,n.useCourseContext)(),{toggleSidebar:D}=(0,o.A)({isOpen:r,setIsOpen:d});(0,u.useEffect)(()=>{r?document.body.classList.add("overflow-hidden"):(document.body.classList.remove("overflow-hidden"),S(300))},[r]);let O=(0,u.useMemo)(()=>C?C*parseInt(T)+45:0,[C,T]),M=async()=>{if(C<N){m.Am.error("Minimum offer price is ".concat((0,i.lb)(N)));return}try{let e=await I.mutateAsync({bookingIds:k.slice(0,parseInt(T)),price:C,expiresAt:new Date(c()().hour(72).toDate())});m.Am.success(e.message?"".concat(e.message,' You must cancel your offers in "My Offers" or you are otherwise responsible for all accepted offers.'):"Offer sent successfully"),d(!1)}catch(t){var e;if("UNAUTHORIZED"===(null==t?void 0:t.message)){m.Am.error("You must be logged in to send an offer.");return}m.Am.error(null!==(e=null==t?void 0:t.message)&&void 0!==e?e:"Error sending offer")}};return(0,l.jsxs)(l.Fragment,{children:[r&&(0,l.jsx)("div",{className:"fixed left-0 top-0 z-20 h-[100dvh] w-screen backdrop-blur ",children:(0,l.jsx)("div",{className:"h-screen bg-[#00000099]"})}),(0,l.jsx)("aside",{className:"!duration-400 fixed right-0 top-1/2 z-20 flex h-[90dvh] w-[80vw] -translate-y-1/2 flex-col overflow-y-hidden border border-stroke bg-white shadow-lg transition-all ease-linear sm:w-[500px] md:h-[100dvh] ".concat(r?"translate-x-0":"translate-x-full"),children:(0,l.jsxs)("div",{className:"relative flex h-full flex-col",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between p-4",children:[(0,l.jsx)("div",{className:"text-lg",children:"Make an Offer"}),(0,l.jsx)("button",{onClick:D,"aria-controls":"sidebar","aria-expanded":r,className:"z-[2]","aria-label":"sidebarToggle","data-testid":"close-button-id",children:(0,l.jsx)(v.x,{className:"h-[25px] w-[25px]"})})]}),(0,l.jsxs)("div",{className:"flex h-full flex-col justify-between",children:[(0,l.jsxs)("div",{className:"flex max-h-[60dvh] flex-col gap-6 overflow-y-auto px-0 sm:px-4 md:max-h-[70dvh]",children:[(0,l.jsx)(w,{date:j,golferCount:x,courseImage:b,courseName:g,timezoneCorrection:null==L?void 0:L.timezoneCorrection}),(0,l.jsxs)("div",{className:"flex flex-col gap-1 text-center w-fit mx-auto",children:[(0,l.jsx)("label",{htmlFor:"listingPrice",className:"text-[16px] text-primary-gray md:text-[18px]",children:"Offer price per golfer"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("span",{className:"absolute left-1 top-1 text-[24px] md:text-[32px]",children:"$"}),(0,l.jsx)("input",{id:"listingPrice",value:null==C?void 0:null===(t=C.toString())||void 0===t?void 0:t.replace(/^0+/,""),type:"number",onFocus:()=>{C||S(0)},onChange:e=>{let t=e.target.value.replace(/[$,]/g,""),r=t.split(".")[1];r&&(null==r?void 0:r.length)>2||S(Number(t.replace(/^0+/,"")))},onBlur:()=>{C||S(0)},className:"mx-auto max-w-[300px] rounded-lg bg-secondary-white px-4 py-1 text-center text-[24px] font-semibold outline-none md:text-[32px] pl-6","data-testid":"listing-price-id"})]})]}),(0,l.jsxs)("div",{className:"flex  flex-col gap-1 text-center",children:[(0,l.jsx)("label",{htmlFor:"players",className:"text-[16px] text-primary-gray md:text-[18px]",children:"Number of spots desired"}),(0,l.jsx)(s.fC,{id:"players",type:"single",value:T,onValueChange:e=>{!(x<parseInt(e))&&e&&E(e)},orientation:"horizontal",className:"mx-auto flex","data-testid":"player-button-id",children:y.map((e,t)=>(0,l.jsx)(p.c,{value:e,className:"".concat(0===t?"rounded-l-full border border-stroke":t===y.length-1?"rounded-r-full border-b border-t border-r border-stroke":"border-b border-r border-t border-stroke"," px-[1.75rem] ").concat(x<t+1?"opacity-50 cursor-not-allowed":""),dataTestId:"player-item-id",dataQa:e},t))})]})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-4 px-4 pb-6",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("div",{className:"font-[300] text-primary-gray",children:"Subtotal"}),(0,l.jsx)("div",{className:"text-secondary-black",children:(0,i.lb)(C)})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("div",{className:"font-[300] text-primary-gray",children:"Taxes"}),(0,l.jsx)("div",{className:"text-secondary-black",children:(0,i.lb)(45)})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("div",{className:"font-[300] text-primary-gray",children:"Total"}),(0,l.jsx)("div",{className:"text-secondary-black",children:(0,i.lb)(O)})]}),(0,l.jsx)("div",{className:"text-center text-[14px] font-[300] text-primary-gray",children:"Once the offer is accepted then all sales are final. You may cancel your offer before it is accepted."}),(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsx)(h.I,{className:"w-full",onClick:M,"data-testid":"send-offer-button-id",children:"Send Offer"}),(0,l.jsx)(f.f,{onClick:()=>d(!1),"data-testid":"cancel-button-id",children:"Cancel"})]})]})]})]})})]})},w=e=>{let{date:t,golferCount:r,courseImage:s,courseName:n,timezoneCorrection:o}=e;return console.log(t.includes("T")?t:t.replace(" ","T")+"Z"),(0,l.jsxs)("div",{className:"flex flex-col gap-2 rounded-xl bg-secondary-white px-4 py-5",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)(x.q,{src:s}),(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("div",{className:"whitespace-nowrap text-secondary-black",children:n}),(0,l.jsx)("div",{className:"text-primary-gray",children:(0,i.mr)(t,!1,o)})]})]}),(0,l.jsxs)("div",{className:"flex gap-4 text-[14px]",children:[(0,l.jsx)("div",{className:"w-[40px] ",children:(0,l.jsx)(g.d,{className:"ml-auto w-[30px]"})}),r," ",1===r?"golfer":"golfers"]})]})}},31225:function(e,t,r){"use strict";r.d(t,{a:function(){return n}});var l=r(27504),s=r(2265);let n=e=>{let{data:t,isLoading:r,refetch:n}=l.h.user.getUser.useQuery({userId:e},{enabled:!!e});return{data:(0,s.useMemo)(()=>{if(t)return t},[t]),isLoading:r,refetch:n}}},98862:function(e){e.exports=function(e,t,r){var l=function(e){return e.add(4-e.isoWeekday(),"day")},s=t.prototype;s.isoWeekYear=function(){return l(this).year()},s.isoWeek=function(e){if(!this.$utils().u(e))return this.add(7*(e-this.isoWeek()),"day");var t,s,n,o=l(this),a=(t=this.isoWeekYear(),n=4-(s=(this.$u?r.utc:r)().year(t).startOf("year")).isoWeekday(),s.isoWeekday()>4&&(n+=7),s.add(n,"day"));return o.diff(a,"week")+1},s.isoWeekday=function(e){return this.$utils().u(e)?this.day()||7:this.day(this.day()%7?e:e-7)};var n=s.startOf;s.startOf=function(e,t){var r=this.$utils(),l=!!r.u(t)||t;return"isoweek"===r.p(e)?l?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):n.bind(this)(e,t)}}},39342:function(e){e.exports=function(e,t,r){e=e||{};var l=t.prototype,s={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function n(e,t,r,s){return l.fromToBase(e,t,r,s)}r.en.relativeTime=s,l.fromToBase=function(t,l,n,o,a){for(var i,d,c,u=n.$locale().relativeTime||s,m=e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],x=m.length,h=0;h<x;h+=1){var f=m[h];f.d&&(i=o?r(t).diff(n,f.d,!0):n.diff(t,f.d,!0));var p=(e.rounding||Math.round)(Math.abs(i));if(c=i>0,p<=f.r||!f.r){p<=1&&h>0&&(f=m[h-1]);var v=u[f.l];a&&(p=a(""+p)),d="string"==typeof v?v.replace("%d",p):v(p,l,f.l,c);break}}if(l)return d;var g=c?u.future:u.past;return"function"==typeof g?g(d):g.replace("%s",d)},l.to=function(e,t){return n(e,t,this,!0)},l.from=function(e,t){return n(e,t,this)};var o=function(e){return e.$u?r.utc():r()};l.toNow=function(e){return this.to(o(this),e)},l.fromNow=function(e){return this.from(o(this),e)}}},15692:function(e){e.exports=function(e,t){t.prototype.weekday=function(e){var t=this.$locale().weekStart||0,r=this.$W,l=(r<t?r+7:r)-t;return this.$utils().u(e)?l:this.subtract(l,"day").add(e,"day")}}},59045:function(e,t,r){"use strict";t.b=void 0;let l=r(57437),s=r(2265),n="undefined"==typeof window,o=!n&&(()=>{try{return"ontouchstart"in window||navigator.maxTouchPoints}catch(e){return!1}})(),a=!n&&(()=>{try{return window.CSS.supports("overflow-anchor: auto")}catch(e){return!1}})(),i=o&&!a,d={top:"top",bottom:"bottom",clientHeight:"clientHeight",scrollHeight:"scrollHeight",scrollTop:"scrollTop",overflowY:"overflowY",height:"height",minHeight:"minHeight",maxHeight:"maxHeight",marginTop:"marginTop"},c={top:"left",bottom:"right",scrollHeight:"scrollWidth",clientHeight:"clientWidth",scrollTop:"scrollLeft",overflowY:"overflowX",minHeight:"minWidth",height:"width",maxHeight:"maxWidth",marginTop:"marginLeft"},u=(e,t,r=1/0)=>Math.max(Math.min(t,r),e),m=(e,t,r)=>Math.ceil(Math.abs(e-t)/r),x=n?s.useEffect:s.useLayoutEffect,h=(e,t,r)=>{let l=[];for(let s=e;s<t;s++)l.push(r(s));return l},f=({fromElement:e,toElement:t,fromIndex:r,asc:l=!0,compare:s})=>{let n=r,o=e;for(;o&&o!==t;){if(s(o,n))return[o,n];l?(n++,o=o.nextSibling):(n--,o=o.previousSibling)}return[null,-1]},p=/auto|scroll/gi,v=(e,t)=>{if(!t||t===document.body||t===document.documentElement)return document.documentElement;let r=window.getComputedStyle(t);return p.test(r[e.overflowY])||p.test(r.overflow)?t:v(e,t.parentNode)},g=(e,t,r=0)=>({padding:0,margin:0,border:"none",visibility:"hidden",overflowAnchor:"none",[e.minHeight]:t,[e.height]:t,[e.maxHeight]:t,[e.marginTop]:r});t.b=(0,s.forwardRef)(({items:e=[],count:t,children:r,viewportRef:n,itemSize:p=0,itemMargin:y=-1,overscan:b=1,axis:w="y",initialIndex:j=-1,initialAlignToTop:N=!0,initialOffset:k=0,initialDelay:C=-1,initialPrerender:S=0,onViewportIndexesChange:T,overflowAnchor:E="auto",withCache:I=!0,scrollThreshold:L=0,renderSpacer:D=({ref:e,style:t})=>(0,l.jsx)("div",{ref:e,style:t}),indexesShift:O=0,getItemBoundingClientRect:M=e=>e.getBoundingClientRect()},A)=>{let R;let B="y"===w?d:c,H="number"==typeof t,F=(H?t:e.length)-1,[[P,W],_]=(0,s.useState)(()=>[u(0,p),u(-1,y)]),z=u(0,P+W),Y=u(0,Math.ceil(b*z)),[V,$]=(0,s.useState)([j-S,j+S]),q=(0,s.useRef)(null),U=(0,s.useRef)(-1),Q=(0,s.useRef)(null),X=(0,s.useRef)(null),Z=(0,s.useRef)(!1),K=(0,s.useRef)(O),G=(0,s.useRef)([]),J=(0,s.useRef)(j>=0?{index:j,alignToTop:N,offset:k,delay:C,prerender:S}:null),ee=(0,s.useRef)(null),et=(0,s.useRef)(0),er=(0,s.useRef)([-1,-1]),el=(0,s.useRef)(null),[es,en]=(0,s.useMemo)(()=>{V[0]=u(0,V[0],F),V[1]=u(V[0],V[1],F);let e=O-K.current;K.current=O;let t=Q.current;return t&&e&&(V[0]=u(0,V[0]+e,F),V[1]=u(V[0],V[1]+e,F),q.current=t.nextSibling,U.current=V[0],Z.current=!0),V},[O,V,F]),eo=(0,s.useMemo)(()=>g(B,(I?G.current:[]).slice(0,es).reduce((e,t)=>e+(t-P),es*z),et.current),[B,I,es,z,P]),ea=(0,s.useMemo)(()=>g(B,(I?G.current:[]).slice(en+1,F+1).reduce((e,t)=>e+(t-P),z*(F-en))),[B,I,en,F,z,P]),ei=(0,s.useMemo)(()=>{let e=null;return()=>{if(n)return n.current===document.body?document.documentElement:n.current;if(e&&e.isConnected)return e;let t=Q.current;return t?e=v(B,t.parentNode):null}},[B,n]),ed=(0,s.useRef)(()=>{}),ec=(0,s.useRef)(()=>({index:-1,offset:0}));return x(()=>{ed.current=()=>{let e=ei(),t=Q.current,r=X.current;if(!e||!t||!r)return;let l=t.nextSibling,s=r.previousSibling,n=e.getBoundingClientRect(),o=t.getBoundingClientRect(),a=r.getBoundingClientRect(),d={[B.top]:e===document.documentElement?0:n[B.top],[B.bottom]:e===document.documentElement?document.documentElement[B.clientHeight]:n[B.bottom]},c={[B.top]:d[B.top]-Y,[B.bottom]:d[B.bottom]+Y};if(et.current<0&&o[B.top]-et.current>=c[B.top]||et.current>0&&o[B.top]>=c[B.top]||et.current&&J.current){t.style[B.marginTop]="0px",e.style[B.overflowY]="hidden",e[B.scrollTop]+=-et.current,e.style[B.overflowY]="",et.current=0;return}if(0===P||-1===W){let e=0;if(f({fromElement:l,toElement:r,fromIndex:es,compare:t=>(e+=M(t)[B.height],!1)}),!e)return;let t=en-es+1;_([0===P?Math.ceil(e/t):P,-1===W?Math.ceil((a[B.top]-o[B.bottom]-e)/t):W]);return}if(ee.current)return;if(J.current){let t=u(0,J.current.index,F);if(t<es||t>en){$([t-J.current.prerender,t+J.current.prerender]);return}let[s]=f({fromElement:l,toElement:r,fromIndex:es,compare:(e,r)=>r===t});if(!s)return;let{alignToTop:n,offset:o,delay:a}=J.current;J.current=null;let c=()=>{let t=M(s),r=n?t[B.top]-d[B.top]+o:t[B.bottom]-d[B.top]-e[B.clientHeight]+o;e[B.scrollTop]+=r,ee.current=null},m=a<0&&i?30:a;if(m>0){ee.current=setTimeout(c,m);return}c();return}if(null===el.current)el.current=e.scrollTop;else if(el.current!==e.scrollTop){let t=Math.abs(e.scrollTop-el.current);if(el.current=e.scrollTop,L>0&&t>L)return}let x=l===r?r:l.nextSibling,h=s===t?t:s.previousSibling,p=Math.ceil((a[B.top]-o[B.bottom])/(en+1-es)),v=o[B.bottom]>c[B.bottom],g=a[B.top]<c[B.top],y=!v&&!g&&o[B.bottom]>c[B.top],b=!v&&!g&&a[B.top]<c[B.bottom],w=!v&&!g&&(h===t?o:M(h))[B.bottom]>c[B.bottom],j=!v&&!g&&(x===r?a:M(x))[B.top]<c[B.top],N=es,k=en;if(v&&(N-=m(o[B.bottom],c[B.top],p),k-=m(a[B.top],c[B.bottom],p)),g&&(k+=m(a[B.top],c[B.bottom],p),N+=m(o[B.bottom],c[B.top],p)),y&&(N-=m(o[B.bottom],c[B.top],p)),b&&(k+=m(a[B.top],c[B.bottom],p)),w){let[,e]=f({fromElement:s,toElement:t,fromIndex:en,asc:!1,compare:e=>M(e)[B.bottom]<=c[B.bottom]});-1!==e&&(k=e+1)}if(j){let[,e]=f({fromElement:l,toElement:r,fromIndex:es,compare:e=>M(e)[B.top]>=c[B.top]});-1!==e&&(N=e-1)}if(T){let[,e]=f({fromElement:l,toElement:r,fromIndex:es,compare:e=>M(e)[B.bottom]>d[B.top]});-1===e&&(e=es);let[,n]=f({fromElement:s,toElement:t,fromIndex:en,asc:!1,compare:e=>M(e)[B.top]<d[B.bottom]});-1===n&&(n=en),(e!==er.current[0]||n!==er.current[1])&&(er.current=[e,n],T(er.current))}if(N=u(0,N,F),k=u(N,k,F),N!==es||k!==en){if(N!==es){if(es>=N)q.current=l,U.current=es;else{let[e,t]=f({fromElement:l,toElement:r,fromIndex:es,compare:(e,t)=>{if(t===N)return!0;let r=M(e);return r[B.height]!==P&&(G.current[t]=r[B.height]),!1}});e?(q.current=e,U.current=t):(q.current=s,U.current=en)}}$([N,k])}},ec.current=()=>{let e=ei(),t=Q.current,r=X.current,l=-1,s=0;if(!e||!t||!r)return{index:l,offset:s};let n=t.nextSibling,o=e.getBoundingClientRect(),a={[B.top]:e===document.documentElement?0:o[B.top],[B.bottom]:e===document.documentElement?document.documentElement[B.clientHeight]:o[B.bottom]};return f({fromElement:n,toElement:r,fromIndex:es,compare:(e,t)=>{let r=M(e);return l=t,s=a[B.top]-r[B.top],r[B.bottom]>a[B.top]}}),{index:l,offset:s}}}),q.current&&ei()&&Q.current&&(R=M(q.current)[B.top]-(ei()===document.documentElement?0:ei().getBoundingClientRect()[B.top])),x(()=>{q.current=null;let e=U.current,t=Z.current;U.current=-1,Z.current=!1;let r=ei(),l=Q.current,s=X.current;if(-1===e||!r||!l||!s||void 0===R||a&&"none"!==E&&!t)return;let n=null;if(e>=es&&e<=en){let[t]=f({fromElement:l.nextSibling,toElement:s,fromIndex:es,compare:(t,r)=>r===e});t&&(n=M(t)[B.top])}else e<es?n=l.getBoundingClientRect()[B.top]+(I?G.current:[]).slice(0,e).reduce((e,t)=>e+(t-P),e*z):e<=F&&(n=s.getBoundingClientRect()[B.top]+(I?G.current:[]).slice(en+1,e).reduce((e,t)=>e+(t-P),z*(e-1-en)));if(null===n)return;let i=n-(r===document.documentElement?0:r.getBoundingClientRect()[B.top])-R;if(i){if(o){et.current-=i,l.style[B.marginTop]=`${et.current}px`;return}r[B.scrollTop]+=i}},[es]),x(()=>{let e;let t=()=>{e=requestAnimationFrame(t),ed.current()};return t(),()=>{cancelAnimationFrame(e),ee.current&&clearTimeout(ee.current)}},[]),(0,s.useImperativeHandle)(A,()=>({scrollToIndex:({index:e=-1,alignToTop:t=!0,offset:r=0,delay:l=-1,prerender:s=0})=>{J.current={index:e,alignToTop:t,offset:r,delay:l,prerender:s},ed.current()},getScrollPosition:()=>ec.current()}),[]),(0,l.jsxs)(s.Fragment,{children:[D({ref:Q,style:eo,type:"top"}),(!!t||!!e.length)&&h(es,en+1,H?r:t=>r(e[t],t,e)),D({ref:X,style:ea,type:"bottom"})]})})}},function(e){e.O(0,[5250,4050,7874,1491,1525,3885,6691,2181,8112,6227,8449,2551,5352,4099,2268,3516,1437,9130,9936,8813,2971,4938,1744],function(){return e(e.s=82355)}),_N_E=e.O()}]);